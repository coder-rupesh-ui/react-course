(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{10:function(e,t,n){e.exports={form:"TaskForm_form__1Oy3n"}},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(6),c=n.n(r),a=(n(19),n(3)),s=n(4),o=n(2),i=n(1),u=n.n(i),j=n(7),b=n.n(j),l=n(0),d=function(e){return Object(l.jsx)("section",{className:b.a.section,children:e.children})},f=n(8),h=n.n(f),O=function(e){return Object(l.jsx)("li",{className:h.a.task,children:e.children})},p=n(9),x=n.n(p),m=function(e){var t=Object(l.jsx)("h2",{children:"No tasks found. Start adding some!"});e.items.length>0&&(t=Object(l.jsx)("ul",{children:e.items.map((function(e){return Object(l.jsx)(O,{children:e.text},e.id)}))}));var n=t;return e.error&&(n=Object(l.jsx)("button",{onClick:e.onFetch,children:"Try again"})),e.loading&&(n="Loading tasks..."),Object(l.jsx)(d,{children:Object(l.jsx)("div",{className:x.a.container,children:n})})},k=n(10),g=n.n(k),v=function(e){var t=Object(i.useRef)();return Object(l.jsxs)("form",{className:g.a.form,onSubmit:function(n){n.preventDefault();var r=t.current.value;r.trim().length>0&&e.onEnterTask(r)},children:[Object(l.jsx)("input",{type:"text",ref:t}),Object(l.jsx)("button",{children:e.loading?"Sending...":"Add Task"})]})},w=function(e){var t=Object(i.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],u=Object(i.useState)(null),j=Object(o.a)(u,2),b=j[0],f=j[1],h=function(){var t=Object(s.a)(Object(a.a)().mark((function t(n){var r,s,o,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),f(null),t.prev=2,t.next=5,fetch("https://react-http-6b4a6.firebaseio.com/tasks.json",{method:"POST",body:JSON.stringify({text:n}),headers:{"Content-Type":"application/json"}});case 5:if((r=t.sent).ok){t.next=8;break}throw new Error("Request failed!");case 8:return t.next=10,r.json();case 10:s=t.sent,o=s.name,i={id:o,text:n},e.onAddTask(i),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),f(t.t0.message||"Something went wrong!");case 19:c(!1);case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)(d,{children:[Object(l.jsx)(v,{onEnterTask:h,loading:r}),b&&Object(l.jsx)("p",{children:b})]})};var S=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(null),j=Object(o.a)(c,2),b=j[0],d=j[1],f=Object(i.useState)([]),h=Object(o.a)(f,2),O=h[0],p=h[1],x=function(){var e=Object(s.a)(Object(a.a)().mark((function e(t){var n,c,s,o;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),d(null),e.prev=2,e.next=5,fetch("https://react-http-714a7-default-rtdb.firebaseio.com/tasks.json");case 5:if((n=e.sent).ok){e.next=8;break}throw new Error("Request failed!");case 8:return e.next=10,n.json();case 10:for(o in c=e.sent,s=[],c)s.push({id:o,text:c[o].text});p(s),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),d(e.t0.message||"Something went wrong!");case 19:r(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){x()}),[]),Object(l.jsxs)(u.a.Fragment,{children:[Object(l.jsx)(w,{onAddTask:function(e){p((function(t){return t.concat(e)}))}}),Object(l.jsx)(m,{items:O,loading:n,error:b,onFetch:x})]})};c.a.createRoot(document.getElementById("root")).render(Object(l.jsx)(S,{}))},7:function(e,t,n){e.exports={section:"Section_section__Yb4ra"}},8:function(e,t,n){e.exports={task:"TaskItem_task__2-Q9s"}},9:function(e,t,n){e.exports={container:"Tasks_container__3DQ51"}}},[[21,1,2]]]);
//# sourceMappingURL=main.a67b308f.chunk.js.map