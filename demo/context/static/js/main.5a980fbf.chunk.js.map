{"version":3,"sources":["components/Login/Login.module.css","components/UI/Input/Input.module.css","components/UI/Card/Card.module.css","components/UI/Button/Button.module.css","components/Home/Home.module.css","components/MainHeader/Navigation.module.css","components/MainHeader/MainHeader.module.css","components/UI/Card/Card.js","components/UI/Button/Button.js","store/auth-context.js","components/UI/Input/Input.js","components/Login/Login.js","components/Home/Home.js","components/MainHeader/Navigation.js","components/MainHeader/MainHeader.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","Button","type","button","onClick","disabled","AuthContext","React","createContext","isLoggedIn","onLogout","onLogin","email","password","AuthContextProvider","useState","setIsLoggedIn","useEffect","localStorage","getItem","Provider","value","removeItem","setItem","Input","forwardRef","ref","inputRef","useRef","activate","current","focus","useImperativeHandle","control","isValid","invalid","htmlFor","label","id","onChange","onBlur","emailReducer","state","action","val","includes","passReducer","trim","length","Login","ctx","useContext","emailRef","passRef","formIsValid","setFormIsValid","useReducer","emailState","dispatchEmail","passState","dispatchPass","isEmailValid","isPassValid","timer","setTimeout","clearTimeout","login","onSubmit","event","preventDefault","target","actions","btn","Home","home","Navigation","nav","href","MainHeader","App","Fragment","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.5a980fbf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__1Zk40\",\"actions\":\"Login_actions__VJhnP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__2jPYz\",\"invalid\":\"Input_invalid__2j34M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2z6Rq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3RYC5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__2J6n_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__jLS2X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-header\":\"MainHeader_main-header__2sJU4\"};","import React from 'react';\n\nimport classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\n\nimport classes from './Button.module.css';\n\nconst Button = (props) => {\n  return (\n    <button\n      type={props.type || 'button'}\n      className={`${classes.button} ${props.className}`}\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      {props.children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React, { createContext, useEffect, useState } from \"react\";\r\n\r\n// createContext() directly will also work if we import it\r\nconst AuthContext = React.createContext({\r\n    isLoggedIn: false,\r\n    onLogout: () => { },\r\n    onLogin: (email, password) => { }\r\n});\r\n\r\nexport const AuthContextProvider = (props) => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const isLoggedIn = localStorage.getItem('isLoggedIn');\r\n        if (isLoggedIn === '1') {\r\n            setIsLoggedIn(true);\r\n        }\r\n    }, [])\r\n\r\n    const loginHandler = (email, password) => {\r\n        localStorage.setItem('isLoggedIn', '1');\r\n        setIsLoggedIn(true);\r\n    };\r\n\r\n    const logoutHandler = () => {\r\n        localStorage.removeItem('isLoggedIn');\r\n        setIsLoggedIn(false);\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{\r\n            isLoggedIn: isLoggedIn,\r\n            onLogout: logoutHandler,\r\n            onLogin: loginHandler\r\n        }}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n\r\nexport default AuthContext;","import { forwardRef, useImperativeHandle, useRef } from 'react';\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = forwardRef((props, ref) => {\r\n    const inputRef = useRef();\r\n    const activate = () => {\r\n        inputRef.current.focus();\r\n    }\r\n    useImperativeHandle(ref, () => {\r\n        return {\r\n            focus: activate\r\n        }\r\n    })\r\n    return (\r\n        <div\r\n            className={`${classes.control} ${props.isValid === false ? classes.invalid : ''\r\n                }`}\r\n        >\r\n            <label htmlFor=\"email\">{props.label}</label>\r\n            <input\r\n                ref={inputRef}\r\n                type={props.type}\r\n                id={props.id}\r\n                value={props.value}\r\n                onChange={props.onChange}\r\n                onBlur={props.onBlur}\r\n            />\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Input;","import React, { useState, useEffect, useReducer, useContext, useRef } from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Login.module.css';\nimport Button from '../UI/Button/Button';\nimport AuthContext from '../../store/auth-context';\nimport Input from '../UI/Input/Input';\n\nconst emailReducer = (state, action) => {\n  if (action.type === 'USER_INPUT') {\n    return { value: action.val, isValid: action.val.includes('@') }\n  } else if (action.type === 'INPUT_BLUR') {\n    return { value: state.value, isValid: state.value.includes('@') }\n  }\n  return { value: '', isValid: false }\n}\n\nconst passReducer = (state, action) => {\n  if (action.type === 'USER_INPUT') {\n    return { value: action.val, isValid: action.val.trim().length > 6 }\n  } else if (action.type === 'INPUT_BLUR') {\n    return { value: state.value, isValid: state.value.trim().length > 6 }\n  }\n  return { value: '', isValid: false }\n}\n\nconst Login = (props) => {\n  const ctx = useContext(AuthContext);\n  const emailRef = useRef();\n  const passRef = useRef();\n  const [formIsValid, setFormIsValid] = useState(false);\n\n  const [emailState, dispatchEmail] = useReducer(emailReducer, {\n    value: '',\n    isValid: null\n  });\n\n  const [passState, dispatchPass] = useReducer(passReducer, {\n    value: '',\n    isValid: null\n  });\n\n  const { isValid: isEmailValid } = emailState;\n  const { isValid: isPassValid } = passState;\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setFormIsValid(\n        isEmailValid && isPassValid\n      );\n    }, 500);\n    //this is cleanup code, it before execution of use effect except 1st time, and before destruction also it runs\n    return () => {\n      clearTimeout(timer);\n    }\n  }, [isEmailValid, isPassValid])\n\n  const emailChangeHandler = (event) => {\n    dispatchEmail({ type: 'USER_INPUT', val: event.target.value })\n  };\n\n  const passwordChangeHandler = (event) => {\n    dispatchPass({ type: 'USER_INPUT', val: event.target.value })\n  };\n\n  const validateEmailHandler = () => {\n    dispatchEmail({ type: 'INPUT_BLUR' });\n  };\n\n  const validatePasswordHandler = () => {\n    dispatchPass({ type: 'INPUT_BLUR' });\n  };\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n    if (formIsValid) {\n      ctx.onLogin(emailState.value, passState.value);\n    } else if(!isEmailValid) {\n      emailRef.current.focus();\n    } else {\n      passRef.current.focus();\n    }\n  };\n\n  return (\n    <Card className={classes.login}>\n      <form onSubmit={submitHandler}>\n        <Input ref={emailRef} id=\"email\" label=\"E-mail\" type=\"email\"\n          isValid={isEmailValid} value={emailState.value}\n          onChange={emailChangeHandler} onBlur={validateEmailHandler} />\n\n        <Input ref={passRef} id=\"password\" label=\"Password\" type=\"password\"\n          isValid={isPassValid} value={passState.value}\n          onChange={passwordChangeHandler} onBlur={validatePasswordHandler} />\n\n        <div className={classes.actions}>\n          <Button type=\"submit\" className={classes.btn}>\n            Login\n          </Button>\n        </div>\n      </form>\n    </Card>\n  );\n};\n\nexport default Login;\n","import React from 'react';\n\nimport Card from '../UI/Card/Card';\nimport classes from './Home.module.css';\n\nconst Home = (props) => {\n  return (\n    <Card className={classes.home}>\n      <h1>Welcome back!</h1>\n    </Card>\n  );\n};\n\nexport default Home;\n","import React, { useContext } from 'react';\nimport AuthContext from '../../store/auth-context';\n\nimport classes from './Navigation.module.css';\n\nconst Navigation = (props) => {\n  const ctx = useContext(AuthContext);\n  return (\n    <nav className={classes.nav}>\n      <ul>\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Users</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <a href=\"/\">Admin</a>\n          </li>\n        )}\n        {ctx.isLoggedIn && (\n          <li>\n            <button onClick={ctx.onLogout}>Logout</button>\n          </li>\n        )}\n      </ul>\n    </nav>\n\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport Navigation from './Navigation';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n  return (\n    <header className={classes['main-header']}>\n      <h1>A Typical Page</h1>\n      <Navigation />\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import React, { useContext } from 'react';\n\nimport Login from './components/Login/Login';\nimport Home from './components/Home/Home';\nimport MainHeader from './components/MainHeader/MainHeader';\nimport AuthContext from './store/auth-context';\n\nfunction App() {\n  const ctx = useContext(AuthContext);\n  return (\n    <React.Fragment>\n      <MainHeader />\n      <main>\n        {!ctx.isLoggedIn && <Login />}\n        {ctx.isLoggedIn && <Home />}\n      </main>\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './store/auth-context';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<AuthContextProvider>\n    <App />\n</AuthContextProvider>);\n"],"sourceRoot":""}