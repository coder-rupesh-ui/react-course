(this["webpackJsonpreact-the-complete-guide"]=this["webpackJsonpreact-the-complete-guide"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(7),i=n.n(r),o=(n(18),n(2)),a=n(5),l=n(4),j=n(8),u=n.n(j),b=n(0),d=function(e){return Object(b.jsxs)("li",{className:u.a.movie,children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)("h3",{children:e.releaseDate}),Object(b.jsx)("p",{children:e.openingText})]})},h=n(9),p=n.n(h),O=function(e){return Object(b.jsx)("ul",{className:p.a["movies-list"],children:e.movies.map((function(e){return Object(b.jsx)(d,{title:e.title,releaseDate:e.releaseDate,openingText:e.opening_crawl},e.episode_id)}))})},x=(n(20),n(3)),f=n.n(x);var v=function(e){var t=Object(c.useRef)(""),n=Object(c.useRef)(""),s=Object(c.useRef)("");return Object(b.jsxs)("form",{onSubmit:function(c){c.preventDefault();var r={title:t.current.value,openingText:n.current.value,releaseDate:s.current.value};e.onAddMovie(r)},children:[Object(b.jsxs)("div",{className:f.a.control,children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",id:"title",ref:t})]}),Object(b.jsxs)("div",{className:f.a.control,children:[Object(b.jsx)("label",{htmlFor:"opening-text",children:"Opening Text"}),Object(b.jsx)("textarea",{rows:"5",id:"opening-text",ref:n})]}),Object(b.jsxs)("div",{className:f.a.control,children:[Object(b.jsx)("label",{htmlFor:"date",children:"Release Date"}),Object(b.jsx)("input",{type:"text",id:"date",ref:s})]}),Object(b.jsx)("button",{children:"Add Movie"})]})};var m=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),j=Object(l.a)(i,2),u=j[0],d=j[1],h=Object(c.useState)(null),p=Object(l.a)(h,2),x=p[0],f=p[1],m=Object(c.useCallback)(Object(a.a)(Object(o.a)().mark((function e(){var t,n,c,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),f(null),e.prev=2,e.next=5,fetch("https://react-http-714a7-default-rtdb.firebaseio.com/movies.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong");case 8:return e.next=10,t.json();case 10:for(s in n=e.sent,c=[],n)c.push({episode_id:s,title:n[s].title,releaseDate:n[s].releaseDate,opening_crawl:n[s].openingText});r(c),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),f(e.t0.message);case 19:d(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])}))),[]);function g(){return(g=Object(a.a)(Object(o.a)().mark((function e(t){var n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://react-http-714a7-default-rtdb.firebaseio.com/movies.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:n=e.sent,c=n.json(),console.log(c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){m()}),[m]),Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsx)("section",{children:Object(b.jsx)(v,{onAddMovie:function(e){return g.apply(this,arguments)}})}),Object(b.jsx)("section",{children:Object(b.jsx)("button",{onClick:m,children:"Fetch Movies"})}),Object(b.jsxs)("section",{children:[!u&&n.length>0&&Object(b.jsx)(O,{movies:n}),!u&&0===n.length&&!x&&Object(b.jsx)("p",{children:"No Movies to show."}),!u&&x&&Object(b.jsx)("p",{children:x}),u&&Object(b.jsx)("p",{children:"Loading..."})]})]})};i.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(m,{}))},3:function(e,t,n){e.exports={control:"AddMovie_control__1-COB"}},8:function(e,t,n){e.exports={movie:"Movie_movie__etWOL"}},9:function(e,t,n){e.exports={"movies-list":"MoviesList_movies-list__2U6AD"}}},[[21,1,2]]]);
//# sourceMappingURL=main.07c47b55.chunk.js.map